"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[1300],{95040:function(e,t,n){n.d(t,{c:function(){return re}});var a=n(32936),r=n(22142),i=n(70404),o=n(38228),l=n(96952),s=n(86720),u=n(5692),d=n(38972),c=n(31192),p=n(40232),m={events:{},sentCount:0,receivedCount:0,lastAppUrl:null,iframe:null,ready:!1,debug:!1,processingQueue:!1,sendQueue:[],messages:{}},v=()=>{if(m.sendQueue.length>0){var[e,t]=m.sendQueue.shift();if(m.ready){var n=((e,t,n)=>{var a="bridge://m.bbc.co.uk/sport?n=".concat(t,"&name=").concat(encodeURIComponent(e));return n&&(a+="&params=".concat(encodeURIComponent(JSON.stringify(n)))),a})(e,m.sentCount,t);m.lastAppUrl=n,m.iframe.src=n,m.sentCount+=1}setTimeout((()=>{v()}),0)}else m.processingQueue=!1};function g(e,t){m.sendQueue.push([e,t]),m.processingQueue||(m.processingQueue=!0,v())}function y(e,t,n){n?function(e,t){if(m.ready){var n=m.messages[e];n&&n(t)}}(e,t):g(e,t)}var f=(e,t)=>{m.messages[e]=t};var b={localhostError:"MediaPlayer is not available on localhost. Try localhost.bbc.com"},h={default:{NO_JS_REASON:"This video can not be played",NO_JS_MESSAGE:"To play this video you need to enable JavaScript in your browser."},cy:{NO_JS_REASON:"Methu chwarae'r fideo",NO_JS_MESSAGE:"I wylio'r fideo yma, mae'n rhaid galluogi JavaScript yn y porwr."},gd:{NO_JS_REASON:"Cha ghabh am bhideo seo cluiche",NO_JS_MESSAGE:"Feumar cead a thoirt do JavaScript sa bhrabhsair agad 'son am bhideo fhaicinn."}},P=n(21464),w=()=>P.c&&window.location.hostname,E=e=>{var t=!1,n=null,a=()=>{g("app:cast:status:request")};e.bind("playing",(()=>{var n=e.mediaItem()||{},r={pid:n.versionID,type:n.type,live:n.isLive,duration:n.duration};t=!0,g("app:media:play",r),a()})),e.bind("pause",(()=>{g("app:media:pause"),t=!1})),e.bind("mediaItemChanged",(()=>{var t,a=e.playlist(),r=null!==(t=a.posterImg)&&void 0!==t?t:a.holdingImageURL,i=null==r?void 0:r.replace("{recipe}","512x512"),o={title:a.title,posterURL:i};n=o,g("app:media:playlist",o)})),e.bind("timeupdate",(()=>{g("app:media:playback-progress",{duration:e.duration(),currentTime:e.currentTime()})})),f("app:media:request:play",(()=>{e.play()})),f("app:media:request:pause",(()=>{e.pause()})),f("app:media:request:seekforward",(()=>{e.currentTime(e.currentTime()+10)})),f("app:media:request:seekbackward",(()=>{e.currentTime(e.currentTime()-10)})),f("app:media:request:seekto",(t=>{null!=t&&t.positionSecs&&e.currentTime(t.positionSecs)})),f("app:cast:status",(a=>{var r=!0===a.isConnected||"true"===a.isConnected,i=e.mediaItem(),o=i&&a.mediaId!==i.vpid;r&&t&&o&&(e.stop(),(()=>{var t=e.mediaItem();g("app:cast:play",{mediaId:t.vpid,mediaType:t.isLive?"live":"vod",title:n.title,imageUrl:n.posterURL,pageUrl:window.location.href,statsId:"sport"})})())})),a()},A=n(81772),O=n(64896),S=n(26572),T=n(47888);function x(e,t,n,a,r,i,o){try{var l=e[i](o),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(a,r)}var k,I={playing:"started",pause:"paused",playlistEnded:"ended"},C=Object.keys(I),N=function(){var e,t=(e=function*(e){var{uasClient:t,smpEventName:n,currentTime:a,hostname:r,activityData:i}=e;if(C.includes(n)&&(e=>(null==e?void 0:e.resourceDomain)&&(null==e?void 0:e.resourceId)&&(null==e?void 0:e.resourceType)&&(null==e?void 0:e.actionContext)&&(null==e?void 0:e.url))(i)&&(0,S.c)()&&(0,T.K4)()){var o=(0,A.c)().withAction(I[n]).withResourceDomain(i.resourceDomain).withResourceId(i.resourceId).withResourceType(i.resourceType).withActionContext("".concat(i.actionContext,"#").concat(Math.floor(a))).withUrl("https://".concat(r).concat(i.url)).build();try{yield t.post(o)}catch(l){console.error(l)}}},function(){var t=this,n=arguments;return new Promise((function(a,r){var i=e.apply(t,n);function o(e){x(i,a,r,o,l,"next",e)}function l(e){x(i,a,r,o,l,"throw",e)}o(void 0)}))});return function(e){return t.apply(this,arguments)}}();function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){D(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R(e,t,n,a,r,i,o){try{var l=e[i](o),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(a,r)}function _(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var i=e.apply(t,n);function o(e){R(i,a,r,o,l,"next",e)}function l(e){R(i,a,r,o,l,"throw",e)}o(void 0)}))}}var L=["initialised","continuousPlay.play","continuousPlayCountdownStarted","playing","pause","ended","fullscreenEnter","fullscreenExit","playlistEnded","playlistStopped","mediaItemChanged","enterFakeFullscreen","exitFakeFullscreen","nextRequested","previousRequested"],F=(0,r.default)("div",{target:"e1h75hkw4",label:"MediaPlayerWrapper"})(""),M=(0,r.default)("div",{target:"e1h75hkw3",label:"MediaContainer"})((e=>{var{fixedHeight:t}=e;return 0!==t&&"height: ".concat(t,";")}),";padding-bottom:",(e=>{var{aspectRatioPadding:t,fixedHeight:n}=e;return 0===n?"".concat(t,"%"):"0px"}),";position:relative;width:100%;color:",(e=>{var{theme:t}=e;return t.colourPalette.primary}),";background-color:",(e=>{var{theme:t}=e;return t.colourPalette.midground}),";html.no-js &{display:none;}",(e=>{var t,n,{isInFakeFullscreen:a}=e;return a&&(0,i.gV)(k||(t=["\n      z-index: 9999;\n    "],n||(n=t.slice(0)),k=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(n)}}))))}),";"),J=(0,r.default)("div",{target:"e1h75hkw2",label:"MediaInner"})({name:"hku1gd",styles:"position:absolute;width:100%;height:100%;display:flex;align-items:center;justify-content:center"}),B=(0,r.default)("div",{target:"e1h75hkw1",label:"Error"})({name:"19997jf",styles:"display:flex;justify-content:center;align-items:center;padding:32px"}),Q=(0,r.default)("div",{target:"e1h75hkw0",label:"LogoIconWrapper"})("width:30%;display:flex;color:",(e=>{var{theme:t}=e;return t.colourPalette.primary}),";opacity:0.2;"),q=function(){var e=_((function*(e){if(!e.isAdvertisingEnabled)return!1;var t=e=>e.items.some((e=>e.isAdvertisingAllowed)),n=t(e),a=e.continuousPlay&&e.continuousPlay.mediaList&&e.continuousPlay.mediaList.some(t);return!(!n&&!a)&&(window.dotcom&&!window.dotcom.ads&&(yield new Promise((e=>setTimeout(e,200)))),window.dotcom&&window.dotcom.ads&&(yield window.dotcom.ads.enabled()))}));return function(t){return e.apply(this,arguments)}}(),K=e=>{var{analytics:t}=e;return t&&t.page?t.page.name:void 0},H=e=>{var{idType:t}=e;return"serviceID"===t||void 0},G=e=>{var{pid:t,items:n,analytics:a}=e;if(a){var{page:{destination:r,producer:i,additionalProperties:o}}=a,l=null==o?void 0:o.playlist_name;return 0===n.length?{destination:r,producer:i,playlistName:l}:{clipPID:t,destination:r,producer:i,playlistName:l}}},z=e=>e?"allowed":void 0,W=(e,t)=>{var n=e.items[0];if(n){var{id:a,idType:r="vpid",live:i,holdingImageUrl:o,title:l,duration:s,durationFormatted:u,kind:d,guidance:c,isEmbeddingAllowed:p,isAdvertisingAllowed:m,authToken:v}=n,g=[{[r]:a,kind:d,live:i,duration:s,jwtToken:v}];return t&&m&&g.unshift({kind:"advert"}),{title:l,holdingImageURL:o,guidance:c,date:u,embedRights:z(p),items:g,simulcast:H(n)}}},V=e=>{var{media:t,onwardJourneyOptions:n,hasAds:a}=e;if(t.continuousPlay&&t.continuousPlay.mediaList&&t.continuousPlay.mediaList.length>1)return((e,t,n)=>({html:"name:onwardJourney.js",data:{name:"smp.plugin.continuousplay.playlistSetChanged",data:U({items:e.map((e=>({playlist:W(e,n),counterName:K(e),statsObject:G(e)})))},t)}}))(t.continuousPlay.mediaList,n,a)},X=e=>{var{hasAds:t,initialAdTag:n}=e;if(t)return{html:"name:dfpAds.js",data:{name:"AdsPluginParameters",data:{adTag:n}}}},Y=e=>{var{enableFullScreenPlugin:t}=e;return t?{html:u}:void 0},Z=e=>{var{enableProgressIndicatorPlugin:t}=e;return t?{html:d}:void 0},$=e=>{var{enableOTTAdvertsPlugin:t,ottAdvertsPluginUrl:n}=e;return t?{html:n,data:{platform:"internal-web"}}:void 0},ee=e=>{var{media:t,enableStattoPlugin:n,stattoPluginUrl:a}=e;return t.isToucanEnabled&&n?{html:a,module:!0}:void 0},te=e=>{var{player:t,onBumpStateChanged:n,hasAds:a,setIsInFakeFullscreen:r,getNextPreviousMedia:i,setProgressIndicatorElement:o,enableAppBridge:l}=e;L.forEach((e=>{t.bind(e,(t=>n({name:e,data:t})))}));var s=!1;if(t.bind("showCta",(()=>{s||(s=!0,window.performance.mark("media-player-ready-to-play"))})),t.bind("initialised",(()=>window.performance.mark("media-player-initialised"))),t.bind("enterFakeFullscreen",(()=>r(!0))),t.bind("exitFakeFullscreen",(()=>r(!1))),l&&E(t),a){var u=function(){var e=_((function*(){var e=yield window.dotcom.ads.getAdTag();t.dispatchEvent("bbc.smp.plugins.ads.event.updateAdTag",{adTag:e})}));return function(){return e.apply(this,arguments)}}();t.bind("playlistLoaded",(()=>{u()}))}o&&t.bind("pluginLoaded",(e=>{var n;"progressIndicatorPlugin"===(e.name||(null===(n=e.detail)||void 0===n?void 0:n.name))&&t.dispatchEvent("showProgressIndicator",o)})),i&&(t.bind("playlistLoaded",(e=>{var{playlist:n}=e,{previousMedia:a,nextMedia:r}=i(n);r&&t.queuePlaylist(W(r,!1)),a&&t.setPreviousPlaylist(W(a,!1)),t.updateUiConfig({controls:{alwaysEnableNextButton:Boolean(r),alwaysEnablePreviousButton:Boolean(a)}})})),t.bind("nextRequested",(()=>{t.next(!0)})),t.bind("previousRequested",(()=>{t.previous()})))},ne=e=>{var t=e.items.find((e=>e.adCampaignKeyword));return t?t.adCampaignKeyword:null},ae=e=>{var t=(0,l.useRef)(e),n=(0,l.useRef)();return(0,l.useEffect)((()=>{if(t.current=e,e||(n.current=null),e&&!n.current){var a=(null==e?void 0:e.environment)||"live",r=null==e?void 0:e.apiKey;n.current=((e,t,n)=>e&&t&&n?(0,O.c)({apiKey:n,environment:e,activityType:"plays",isDotCom:t.endsWith(".com"),tokenRefreshToggle:!0}):null)(a,w(),r)}}),[e]),[n,t]},re=e=>{var{media:t,uiOptions:n={},onwardJourneyOptions:r={},height:i=0,onStateChanged:u,onMediaChanged:d,getNextPreviousMedia:v,shouldAutoplay:f,orientation:P="landscape",shouldDelayEmbed:E=!1,shouldPauseMedia:A=!1,forcePlaceholder:O=!1,noAutomaticNextQueued:S=!1,activityData:T,shouldFullscreen:x,enableFullScreenPlugin:k,setProgressIndicatorElement:I,enableProgressIndicatorPlugin:C,enableOTTAdvertsPlugin:j,enableStattoPlugin:D,enableAppBridge:R,subtitlesDefaultOn:L}=e,H=(0,l.useRef)(),z=(0,l.useRef)();z.current=u;var re=(0,l.useRef)();re.current=d;var ie,oe=(ie=(0,p.sn)()["global-smp-stage"]?"//emp.stage.bbci.co.uk/emp/bump-4/bump-4":"//emp.bbci.co.uk/emp/bump-4/bump-4",(0,a.e)(ie)),le=(0,p.sn)()["sfv-ott-adverts-plugin-test"]?"https://static.files.bbci.co.uk/marketing-technology/test/smp/plugins/ott-adverts/latest/release/ott-adverts-plugin.js":"https://static.files.bbci.co.uk/marketing-technology/live/smp/plugins/ott-adverts/latest/release/ott-adverts-plugin.js",se=(0,p.sn)()["live-statto-smp-use-test-plugin"]?"https://static.files.bbci.co.uk/statto-smp-plugin/toucan/test/plugin.js":"https://static.files.bbci.co.uk/statto-smp-plugin/toucan/latest/plugin.js",ue=(0,o.ae)(),de=(0,l.useRef)(t.currentlyPlayingKey),ce=(0,l.useRef)(t.isAdvertisingEnabled),[pe,me]=ae(T),[ve,ge]=(0,l.useState)(!1),ye=100*("portrait"===P?16/9:9/16),fe=h[ue]||h.default,be="localhost"===w(),he=(0,l.useMemo)((()=>be?l.createElement(B,null,b.localhostError):null),[be]),Pe=(0,l.useRef)();return f&&Pe.current&&Pe.current.captureIntent(),R&&function(){if(m.send=y,window.appBridge=m,window.onesport={bridge:m,bridgeHandshake:()=>{}},!m.ready){m.ready=!0;var e=document.createElement("iframe");e.src="about:blank",e.style.display="none",document.body.appendChild(e),m.iframe=e,g("handshake")}}(),(0,l.useEffect)((()=>{if(oe&&!he&&!O&&!Pe.current){var e=e=>{var{name:n,data:a}=e,r="continuousPlay.play"===n,i=a&&-1===a.index;if(!r||!i){var o;if(me.current)N({uasClient:pe.current,smpEventName:n,currentTime:null==Pe||null===(o=Pe.current)||void 0===o||null===(o=o.player)||void 0===o?void 0:o.currentTime(),hostname:w(),activityData:me.current});var l=a&&void 0!==a.index,s=t.continuousPlay&&t.continuousPlay.mediaList&&t.continuousPlay.mediaList.length>1;r&&l&&s&&(de.current=t.continuousPlay.mediaList[a.index].key,re.current&&re.current({index:a.index})),z.current&&z.current({name:n,data:a})}},a=function(){var a=_((function*(){var a,i,o=yield q(t);if(o){var l=ne(t);window.dotcom.setConfig("adCampaign",l)}var s=null!==(a=null===(i=n.subtitles)||void 0===i?void 0:i.defaultOn)&&void 0!==a?a:L,u=s?{subtitles:{defaultOn:s}}:void 0,d=o?yield window.dotcom.ads.getAdTag():void 0,c=U(U(U({},n),u),{},{locale:U({lang:ue},n.locale)});Pe.current=oe.player(H.current,(e=>{var t,n,{media:a,uiOptions:r,onwardJourneyOptions:i,hasAds:o,initialAdTag:l,shouldDelayEmbed:s,enableFullScreenPlugin:u,enableProgressIndicatorPlugin:d,noAutomaticNextQueued:c,enableOTTAdvertsPlugin:p,ottAdvertsPluginUrl:m,enableStattoPlugin:v,enableAppBridge:g,stattoPluginUrl:y}=e;return{product:"generic",plugins:{toLoad:(n={media:a,onwardJourneyOptions:i,hasAds:o,initialAdTag:l,enableFullScreenPlugin:u,enableProgressIndicatorPlugin:d,enableOTTAdvertsPlugin:p,ottAdvertsPluginUrl:m,enableStattoPlugin:v,enableAppBridge:g,stattoPluginUrl:y},[V(n),X(n),Y(n),Z(n),$(n),ee(n)].filter(Boolean))},enableToucan:a.isToucanEnabled||!1,playlistObject:W(a,o),ui:r,statsObject:G(a),counterName:K(a),externalEmbedCode:a.externalEmbedUrl?'<iframe width="400" height="500" frameborder="0" src="{url}"></iframe>':void 0,externalEmbedUrl:a.externalEmbedUrl,appName:a.smpAppName,appType:null!==(t=a.smpAppType)&&void 0!==t?t:"responsive",mediator:a.mediator,noAutomaticNextQueued:c,delayEmbed:s,webcastData:a.webcastData,supportFakeFullscreen:!0}})({media:t,getNextPreviousMedia:v,uiOptions:c,onwardJourneyOptions:r,hasAds:o,initialAdTag:d,shouldDelayEmbed:E,noAutomaticNextQueued:S,enableFullScreenPlugin:k,enableProgressIndicatorPlugin:C,enableOTTAdvertsPlugin:j,ottAdvertsPluginUrl:le,enableStattoPlugin:D,enableAppBridge:R,stattoPluginUrl:se})),te({player:Pe.current,onBumpStateChanged:e,hasAds:o,setIsInFakeFullscreen:ge,getNextPreviousMedia:v,setProgressIndicatorElement:I,enableAppBridge:R}),Pe.current.load()}));return function(){return a.apply(this,arguments)}}();a()}}),[t,n,oe,he,r,d,v,I,ue,O,me,pe,S,E,x,k,C,j,le,D,se,R,L]),(0,l.useEffect)((()=>{if(!he&&Pe.current){var e=de.current!==t.currentlyPlayingKey,n=ce.current!==t.isAdvertisingEnabled;if(e||n){var a=function(){var e=_((function*(){var e=yield q(t);Pe.current.loadPlaylist(W(t,e),{autoplay:f,counterName:K(t),statsObject:G(t),externalEmbedUrl:t.externalEmbedUrl,webcastData:t.webcastData}),de.current=t.currentlyPlayingKey,ce.current=t.isAdvertisingEnabled}));return function(){return e.apply(this,arguments)}}();a()}else((e,t)=>{var{externalEmbedUrl:n}=e.settings();t&&t!==n&&e.settings({externalEmbedUrl:t})})(Pe.current,t.externalEmbedUrl);var r=function(){var e=_((function*(){if(yield q(t)){var e=ne(t);window.dotcom.setConfig("adCampaign",e)}}));return function(){return e.apply(this,arguments)}}();r()}}),[he,t,f]),(0,l.useEffect)((()=>{!he&&Pe.current&&Pe.current.updateUiConfig(n)}),[he,n]),(0,l.useEffect)((()=>{!he&&Pe.current&&A&&Pe.current.pause()}),[he,A]),(0,l.useEffect)((()=>{!he&&Pe.current&&x&&(Pe.current.updateUiConfig(n),Pe.current.dispatchEvent("fullScreenPlugin.launchFullscreen"))}),[x,n,he]),(0,l.useEffect)((()=>{var e=e=>e.preventDefault();return ve&&window.addEventListener("touchmove",e,{passive:!1}),()=>{window.removeEventListener("touchmove",e,{passive:!1})}}),[ve]),l.createElement(F,{"data-chromatic":"ignore"},l.createElement(M,{fixedHeight:i,isInFakeFullscreen:ve,"data-testid":"media-player-container-".concat(P),aspectRatioPadding:ye},l.createElement(J,{ref:H},he,!he&&l.createElement(Q,{"data-testid":"bbc-logo-wrapper"},l.createElement(s.c,{type:"logo:bbc"})))),l.createElement("noscript",null,l.createElement(c.c,{reason:fe.NO_JS_REASON,message:fe.NO_JS_MESSAGE,headingLevel:"2",collapseAtMobile:!0})))}}}]);